(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5307],{75708:function(t,e,i){var s;"undefined"!=typeof self&&self,t.exports=(s=i(67294),function(t){function e(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,i){"use strict";function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},s.apply(this,arguments)}function n(t){return l(t)||r(t)||a(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t,e){if(t){if("string"==typeof t)return h(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?h(t,e):void 0}}function r(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function l(t){if(Array.isArray(t))return h(t)}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0});var p=i(1),d=i.n(p),u="undefined"!=typeof window?p.useLayoutEffect:p.useEffect,g=Object(p.forwardRef)((function(t,e){var i=Object(p.useRef)(),o=Object(p.useRef)();return u((function(){function e(){var e=t.highcharts||"object"===("undefined"==typeof window?"undefined":c(window))&&window.Highcharts,s=t.constructorType||"chart";e?e[s]?t.options?o.current=e[s](i.current,t.options,t.callback?t.callback:void 0):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(o.current){if(!1!==t.allowChartUpdate)if(!t.immutable&&o.current){var s;(s=o.current).update.apply(s,[t.options].concat(n(t.updateArgs||[!0,!0])))}else e()}else e()})),u((function(){return function(){o.current&&(o.current.destroy(),o.current=null)}}),[]),Object(p.useImperativeHandle)(e,(function(){return{get chart(){return o.current},container:i}}),[]),d.a.createElement("div",s({},t.containerProps,{ref:i}))}));e.default=Object(p.memo)(g)},function(t,e){t.exports=s}]))},75111:function(t,e,i){"use strict";var s,n,o;o=function(t){function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Extensions/Annotations/AnnotationChart.js",[t["Core/Utilities.js"]],(function(t){function e(t,e){return t=this.initAnnotation(t),this.options.annotations.push(t.options),p(e,!0)&&(t.redraw(),t.graphic.attr({opacity:1})),t}function i(){const t=this;t.plotBoxClip=this.renderer.clipRect(this.plotBox),t.controlPointsGroup=t.renderer.g("control-points").attr({zIndex:99}).clip(t.plotBoxClip).add(),t.options.annotations.forEach(((e,i)=>{if(!t.annotations.some((t=>t.options===e))){const s=t.initAnnotation(e);t.options.annotations[i]=s.options}})),t.drawAnnotations(),r(t,"redraw",t.drawAnnotations),r(t,"destroy",(function(){t.plotBoxClip.destroy(),t.controlPointsGroup.destroy()})),r(t,"exportData",(function(e){const i=(this.options.exporting&&this.options.exporting.csv||{}).columnHeaderFormatter,s=!e.dataRows[1].xValues,n=t.options.lang&&t.options.lang.exportData&&t.options.lang.exportData.annotationHeader,o=function(t){let e;return i&&(e=i(t),!1!==e)?e:(e=n+" "+t,s?{columnTitle:e,topLevelColumnTitle:e}:e)},a=e.dataRows[0].length,r=t.options.exporting&&t.options.exporting.csv&&t.options.exporting.csv.annotations&&t.options.exporting.csv.annotations.itemDelimiter,l=t.options.exporting&&t.options.exporting.csv&&t.options.exporting.csv.annotations&&t.options.exporting.csv.annotations.join;t.annotations.forEach((t=>{t.options.labelOptions&&t.options.labelOptions.includeInDataExport&&t.labels.forEach((t=>{if(t.options.text){const i=t.options.text;t.points.forEach((t=>{const s=t.x,n=t.series.xAxis?t.series.xAxis.index:-1;let o=!1;if(-1===n){t=e.dataRows[0].length;for(var h=Array(t),c=0;c<t;++c)h[c]="";h.push(i),h.xValues=[],h.xValues[n]=s,e.dataRows.push(h),o=!0}if(o||e.dataRows.forEach((t=>{!o&&t.xValues&&void 0!==n&&s===t.xValues[n]&&(l&&t.length>a?t[t.length-1]+=r+i:t.push(i),o=!0)})),!o){for(t=e.dataRows[0].length,h=Array(t),c=0;c<t;++c)h[c]="";h[0]=s,h.push(i),h.xValues=[],void 0!==n&&(h.xValues[n]=s),e.dataRows.push(h)}}))}}))}));let h=0;e.dataRows.forEach((t=>{h=Math.max(h,t.length)}));const c=h-e.dataRows[0].length;for(let t=0;t<c;t++){const i=o(t+1);s?(e.dataRows[0].push(i.topLevelColumnTitle),e.dataRows[1].push(i.columnTitle)):e.dataRows[0].push(i)}}))}function s(){this.plotBoxClip.attr(this.plotBox),this.annotations.forEach((t=>{t.redraw(),t.graphic.animate({opacity:1},t.animationConfig)}))}function n(t){const e=this.annotations,i="annotations"===t.coll?t:h(e,(function(e){return e.options.id===t}));i&&(c(i,"remove"),l(this.options.annotations,i.options),l(e,i),i.destroy())}function o(){this.annotations=[],this.options.annotations||(this.options.annotations=[])}function a(t){this.chart.hasDraggedAnnotation||t.apply(this,Array.prototype.slice.call(arguments,1))}const{addEvent:r,erase:l,find:h,fireEvent:c,pick:p,wrap:d}=t,u=[];var g;return function(l){l.compose=function(l,h,c){t.pushUnique(u,h)&&(r(h,"afterInit",o),(h=h.prototype).addAnnotation=e,h.callbacks.push(i),h.collectionsWithInit.annotations=[e],h.collectionsWithUpdate.push("annotations"),h.drawAnnotations=s,h.removeAnnotation=n,h.initAnnotation=function(t){return t=new(l.types[t.type]||l)(this,t),this.annotations.push(t),t}),t.pushUnique(u,c)&&d(c.prototype,"onContainerMouseDown",a)}}(g||(g={})),g})),e(t,"Extensions/Annotations/AnnotationDefaults.js",[t["Core/Utilities.js"]],(function(t){const{defined:e}=t;return{visible:!0,animation:{},crop:!0,draggable:"xy",labelOptions:{align:"center",allowOverlap:!1,backgroundColor:"rgba(0, 0, 0, 0.75)",borderColor:"#000000",borderRadius:3,borderWidth:1,className:"highcharts-no-tooltip",crop:!1,formatter:function(){return e(this.y)?""+this.y:"Annotation label"},includeInDataExport:!0,overflow:"justify",padding:5,shadow:!1,shape:"callout",style:{fontSize:"0.7em",fontWeight:"normal",color:"contrast"},useHTML:!1,verticalAlign:"bottom",x:0,y:-16},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:"rgba(0, 0, 0, 0.75)",r:0,snap:2},controlPointOptions:{events:{},style:{cursor:"pointer",fill:"#ffffff",stroke:"#000000","stroke-width":2},height:10,symbol:"circle",visible:!1,width:10},events:{},zIndex:6}})),e(t,"Extensions/Annotations/EventEmitter.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e){const{doc:i,isTouchDevice:s}=t,{addEvent:n,fireEvent:o,objectEach:a,pick:r,removeEvent:l}=e;return class{addEvents(){const t=this,e=function(e){n(e,s?"touchstart":"mousedown",(e=>{t.onMouseDown(e)}),{passive:!1})};if(e(this.graphic.element),(t.labels||[]).forEach((t=>{t.options.useHTML&&t.graphic.text&&e(t.graphic.text.element)})),a(t.options.events,((e,i)=>{const s=function(s){"click"===i&&t.cancelClick||e.call(t,t.chart.pointer.normalize(s),t.target)};-1===(t.nonDOMEvents||[]).indexOf(i)?t.graphic.on(i,s):n(t,i,s,{passive:!1})})),t.options.draggable&&(n(t,"drag",t.onDrag),!t.graphic.renderer.styledMode)){const e={cursor:{x:"ew-resize",y:"ns-resize",xy:"move"}[t.options.draggable]};t.graphic.css(e),(t.labels||[]).forEach((t=>{t.options.useHTML&&t.graphic.text&&t.graphic.text.css(e)}))}t.isUpdating||o(t,"add")}destroy(){this.removeDocEvents(),l(this),this.hcEvents=null}mouseMoveToRadians(t,e,i){let s=t.prevChartY-i,n=t.prevChartX-e;return i=t.chartY-i,t=t.chartX-e,this.chart.inverted&&(e=n,n=s,s=e,e=t,t=i,i=e),Math.atan2(i,t)-Math.atan2(s,n)}mouseMoveToScale(t,e,i){return e=(t.chartX-e||1)/(t.prevChartX-e||1),t=(t.chartY-i||1)/(t.prevChartY-i||1),this.chart.inverted&&(i=t,t=e,e=i),{x:e,y:t}}mouseMoveToTranslation(t){let e,i=t.chartX-t.prevChartX;return t=t.chartY-t.prevChartY,this.chart.inverted&&(e=t,t=i,i=e),{x:i,y:t}}onDrag(t){if(this.chart.isInsidePlot(t.chartX-this.chart.plotLeft,t.chartY-this.chart.plotTop,{visiblePlotOnly:!0})){const e=this.mouseMoveToTranslation(t);"x"===this.options.draggable&&(e.y=0),"y"===this.options.draggable&&(e.x=0),this.points.length?this.translate(e.x,e.y):(this.shapes.forEach((t=>t.translate(e.x,e.y))),this.labels.forEach((t=>t.translate(e.x,e.y)))),this.redraw(!1)}}onMouseDown(t){if(t.preventDefault&&t.preventDefault(),2!==t.button){var e=this,a=e.chart.pointer,l=(t=a.normalize(t)).chartX,h=t.chartY;e.cancelClick=!1,e.chart.hasDraggedAnnotation=!0,e.removeDrag=n(i,s?"touchmove":"mousemove",(function(t){e.hasDragged=!0,(t=a.normalize(t)).prevChartX=l,t.prevChartY=h,o(e,"drag",t),l=t.chartX,h=t.chartY}),s?{passive:!1}:void 0),e.removeMouseUp=n(i,s?"touchend":"mouseup",(function(t){const i=r(e.target&&e.target.annotation,e.target);i&&(i.cancelClick=e.hasDragged),e.cancelClick=e.hasDragged,e.hasDragged=!1,e.chart.hasDraggedAnnotation=!1,o(r(i,e),"afterUpdate"),e.onMouseUp(t)}),s?{passive:!1}:void 0)}}onMouseUp(t){var e=this.chart;t=this.target||this;const i=e.options.annotations;e=e.annotations.indexOf(t),this.removeDocEvents(),i[e]=t.options}removeDocEvents(){this.removeDrag&&(this.removeDrag=this.removeDrag()),this.removeMouseUp&&(this.removeMouseUp=this.removeMouseUp())}}})),e(t,"Extensions/Annotations/ControlPoint.js",[t["Extensions/Annotations/EventEmitter.js"],t["Core/Utilities.js"]],(function(t,e){const{merge:i,pick:s}=e;return class extends t{constructor(t,e,i,n){super(),this.graphic=void 0,this.nonDOMEvents=["drag"],this.chart=t,this.target=e,this.options=i,this.index=s(i.index,n)}destroy(){super.destroy(),this.graphic&&(this.graphic=this.graphic.destroy()),this.options=this.target=this.chart=null}redraw(t){this.graphic[t?"animate":"attr"](this.options.positioner.call(this,this.target))}render(){const t=this.chart,e=this.options;this.graphic=t.renderer.symbol(e.symbol,0,0,e.width,e.height).add(t.controlPointsGroup).css(e.style),this.setVisibility(e.visible),this.addEvents()}setVisibility(t){this.graphic[t?"show":"hide"](),this.options.visible=t}update(t){const e=this.chart,s=this.target,n=this.index;t=i(!0,this.options,t),this.destroy(),this.constructor(e,s,t,n),this.render(e.controlPointsGroup),this.redraw()}}})),e(t,"Extensions/Annotations/MockPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e){const{series:{prototype:i}}=t,{defined:s,fireEvent:n}=e;class o{static fromPoint(t){return new o(t.series.chart,null,{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis})}static pointToPixels(t,e){const i=t.series,s=i.chart;let n=t.plotX||0,o=t.plotY||0;return s.inverted&&(t.mock?(n=t.plotY,o=t.plotX):(n=s.plotWidth-(t.plotY||0),o=s.plotHeight-(t.plotX||0))),i&&!e&&(n+=(t=i.getPlotBox()).translateX,o+=t.translateY),{x:n,y:o}}static pointToOptions(t){return{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis}}constructor(t,e,s){this.plotY=this.plotX=void 0,this.mock=!0,this.series={visible:!0,chart:t,getPlotBox:i.getPlotBox},this.target=e||null,this.options=s,this.applyOptions(this.getOptions())}applyOptions(t){this.command=t.command,this.setAxis(t,"x"),this.setAxis(t,"y"),this.refresh()}getLabelConfig(){return{x:this.x,y:this.y,point:this}}getOptions(){return this.hasDynamicOptions()?this.options(this.target):this.options}hasDynamicOptions(){return"function"===typeof this.options}isInsidePlot(){const t=this.plotX,e=this.plotY,i=this.series.xAxis,o=this.series.yAxis,a={x:t,y:e,isInsidePlot:!0,options:{}};return i&&(a.isInsidePlot=s(t)&&0<=t&&t<=i.len),o&&(a.isInsidePlot=a.isInsidePlot&&s(e)&&0<=e&&e<=o.len),n(this.series.chart,"afterIsInsidePlot",a),a.isInsidePlot}refresh(){var t=this.series;const e=t.xAxis;t=t.yAxis;const i=this.getOptions();e?(this.x=i.x,this.plotX=e.toPixels(i.x,!0)):(this.x=void 0,this.plotX=i.x),t?(this.y=i.y,this.plotY=t.toPixels(i.y,!0)):(this.y=null,this.plotY=i.y),this.isInside=this.isInsidePlot()}refreshOptions(){var t=this.series;const e=t.xAxis;t=t.yAxis,this.x=this.options.x=e?this.options.x=e.toValue(this.plotX,!0):this.plotX,this.y=this.options.y=t?t.toValue(this.plotY,!0):this.plotY}rotate(t,e,i){if(!this.hasDynamicOptions()){const s=Math.cos(i);i=Math.sin(i);const n=this.plotX-t,o=this.plotY-e,a=n*i+o*s;this.plotX=n*s-o*i+t,this.plotY=a+e,this.refreshOptions()}}scale(t,e,i,s){if(!this.hasDynamicOptions()){const n=this.plotY*s;this.plotX=(1-i)*t+this.plotX*i,this.plotY=(1-s)*e+n,this.refreshOptions()}}setAxis(t,e){t=t[e+="Axis"];const i=this.series.chart;this.series[e]="object"===typeof t?t:s(t)?i[e][t]||i.get(t):null}toAnchor(){const t=[this.plotX,this.plotY,0,0];return this.series.chart.inverted&&(t[0]=this.plotY,t[1]=this.plotX),t}translate(t,e,i,s){this.hasDynamicOptions()||(this.plotX+=i,this.plotY+=s,this.refreshOptions())}}return o})),e(t,"Extensions/Annotations/ControlTarget.js",[t["Extensions/Annotations/ControlPoint.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Utilities.js"]],(function(t,e,i){var s;return function(s){function n(){const e=this.controlPoints,s=this.options.controlPoints||[];s.forEach(((n,o)=>{(n=i.merge(this.options.controlPointOptions,n)).index||(n.index=o),s[o]=n,e.push(new t(this.chart,this,n))}))}function o(t){const e=t.series.getPlotBox(),s=t.series.chart;var n=t.mock?t.toAnchor():s.tooltip&&s.tooltip.getAnchor.call({chart:t.series.chart},t)||[0,0,0,0];return{relativePosition:n={x:n[0]+(this.options.x||0),y:n[1]+(this.options.y||0),height:n[2]||0,width:n[3]||0},absolutePosition:i.merge(n,{x:n.x+(t.mock?e.translateX:s.plotLeft),y:n.y+(t.mock?e.translateY:s.plotTop)})}}function a(){this.controlPoints.forEach((t=>t.destroy())),this.options=this.points=this.controlPoints=this.chart=null,this.annotation&&(this.annotation=null)}function r(){const t=this.options;return t.points||t.point&&i.splat(t.point)}function l(){const t=this.getPointsOptions(),e=this.points,i=t&&t.length||0;let s,n;for(s=0;s<i;s++){if(n=this.point(t[s],e[s]),!n)return void(e.length=0);n.mock&&n.refresh(),e[s]=n}return e}function h(t,s){return t&&t.series?t:(s&&null!==s.series||(i.isObject(t)?s=new e(this.chart,this,t):i.isString(t)?s=this.chart.get(t)||null:"function"===typeof t&&(s=(s=t.call(s,this)).series?s:new e(this.chart,this,t))),s)}function c(t){this.controlPoints.forEach((e=>e.redraw(t)))}function p(){this.controlPoints.forEach((t=>t.render()))}function d(t,e,i,s,n){if(this.chart.inverted){const t=e;e=i,i=t}this.points.forEach(((o,a)=>this.transformPoint(t,e,i,s,n,a)),this)}function u(t,i,s,n,o,a){let r=this.points[a];r.mock||(r=this.points[a]=e.fromPoint(r)),r[t](i,s,n,o)}function g(t,e){this.transform("translate",null,null,t,e)}function f(t,e,i){this.transformPoint("translate",null,null,t,e,i)}const v=[];s.compose=function(t){i.pushUnique(v,t)&&i.merge(!0,t.prototype,{addControlPoints:n,anchor:o,destroyControlTarget:a,getPointsOptions:r,linkPoints:l,point:h,redrawControlPoints:c,renderControlPoints:p,transform:d,transformPoint:u,translate:g,translatePoint:f})}}(s||(s={})),s})),e(t,"Extensions/Annotations/Controllables/Controllable.js",[t["Extensions/Annotations/ControlTarget.js"],t["Core/Utilities.js"]],(function(t,e){const{merge:i}=e;class s{constructor(t,e,i,s){this.graphic=void 0,this.annotation=t,this.chart=t.chart,this.collection="label"===s?"labels":"shapes",this.controlPoints=[],this.options=e,this.points=[],this.index=i,this.itemType=s,this.init(t,e,i)}attr(...t){this.graphic.attr.apply(this.graphic,arguments)}attrsFromOptions(t){const e=this.constructor.attrsMap,i={},s=this.chart.styledMode;let n,o;for(n in t)o=e[n],"undefined"===typeof e[n]||s&&-1!==["fill","stroke","stroke-width"].indexOf(o)||(i[o]=t[n]);return i}destroy(){this.graphic&&(this.graphic=this.graphic.destroy()),this.tracker&&(this.tracker=this.tracker.destroy()),this.destroyControlTarget()}init(t,e,i){this.annotation=t,this.chart=t.chart,this.options=e,this.points=[],this.controlPoints=[],this.index=i,this.linkPoints(),this.addControlPoints()}redraw(t){this.redrawControlPoints(t)}render(t){this.renderControlPoints()}rotate(t,e,i){this.transform("rotate",t,e,i)}scale(t,e,i,s){this.transform("scale",t,e,i,s)}setControlPointsVisibility(t){this.controlPoints.forEach((e=>{e.setVisibility(t)}))}shouldBeDrawn(){return!!this.points.length}translateShape(t,e,i){var s=this.annotation.chart;const n=this.annotation.userOptions,o=s.annotations.indexOf(this.annotation);s=s.options.annotations[o],this.translatePoint(t,e,0),i&&this.translatePoint(t,e,1),s[this.collection][this.index].point=this.options.point,n[this.collection][this.index].point=this.options.point}update(t){var e=this.annotation;const s=i(!0,this.options,t);t=this.graphic.parentGroup;const n=this.constructor;this.destroy(),e=new n(e,s,this.index,this.itemType),i(!0,this,e),this.render(t),this.redraw()}}return t.compose(s),s})),e(t,"Extensions/Annotations/Controllables/ControllableDefaults.js",[],(function(){return{defaultMarkers:{arrow:{tagName:"marker",attributes:{id:"arrow",refY:5,refX:9,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 0 L 10 5 L 0 10 Z","stroke-width":0}}]},"reverse-arrow":{tagName:"marker",attributes:{id:"reverse-arrow",refY:5,refX:1,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 5 L 10 0 L 10 10 Z","stroke-width":0}}]}}}})),e(t,"Extensions/Annotations/Controllables/ControllablePath.js",[t["Extensions/Annotations/Controllables/Controllable.js"],t["Extensions/Annotations/Controllables/ControllableDefaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e,i,s){function n(t){return function(e){this.attr(t,"url(#"+e+")")}}function o(){this.options.defs=p(r,this.options.defs||{})}function a(t,e){const i={attributes:{id:t}},s={stroke:e.color||"none",fill:e.color||"rgba(0, 0, 0, 0.75)"};return i.children=e.children&&e.children.map((function(t){return p(s,t)})),e=p(!0,{attributes:{markerWidth:20,markerHeight:20,refX:0,refY:0,orient:"auto"}},e,i),(e=this.definition(e)).id=t,e}const{defaultMarkers:r}=e,{addEvent:l,defined:h,extend:c,merge:p,uniqueKey:d}=s,u=[],g=n("marker-end"),f=n("marker-start"),v="rgba(192,192,192,"+(i.svg?1e-4:.002)+")";class x extends t{static compose(t,e){s.pushUnique(u,t)&&l(t,"afterGetContainer",o),s.pushUnique(u,e)&&(e.prototype.addMarker=a)}constructor(t,e,i){super(t,e,i,"shape"),this.type="path"}toD(){var t=this.options.d;if(t)return"function"===typeof t?t.call(this):t;const e=(t=this.points).length,i=[];var s=e;let n=t[0],o=s&&this.anchor(n).absolutePosition,a=0;if(o)for(i.push(["M",o.x,o.y]);++a<e&&s;)n=t[a],s=n.command||"L",o=this.anchor(n).absolutePosition,"M"===s||"L"===s?i.push([s,o.x,o.y]):"Z"===s&&i.push([s]),s=n.series.visible;return s&&this.graphic?this.chart.renderer.crispLine(i,this.graphic.strokeWidth()):null}shouldBeDrawn(){return super.shouldBeDrawn()||!!this.options.d}render(t){const e=this.options,i=this.attrsFromOptions(e);this.graphic=this.annotation.chart.renderer.path([["M",0,0]]).attr(i).add(t),e.className&&this.graphic.addClass(e.className),this.tracker=this.annotation.chart.renderer.path([["M",0,0]]).addClass("highcharts-tracker-line").attr({zIndex:2}).add(t),this.annotation.chart.styledMode||this.tracker.attr({"stroke-linejoin":"round",stroke:v,fill:v,"stroke-width":this.graphic.strokeWidth()+2*e.snap}),super.render(),c(this.graphic,{markerStartSetter:f,markerEndSetter:g}),this.setMarkers(this)}redraw(t){if(this.graphic){const e=this.toD(),i=t?"animate":"attr";e?(this.graphic[i]({d:e}),this.tracker[i]({d:e})):(this.graphic.attr({d:"M 0 -9000000000"}),this.tracker.attr({d:"M 0 -9000000000"})),this.graphic.placed=this.tracker.placed=!!e}super.redraw(t)}setMarkers(t){const e=t.options,i=t.chart,s=i.options.defs,n=e.fill,o=h(n)&&"none"!==n?n:e.stroke;["markerStart","markerEnd"].forEach((function(n){var a=e[n];let r,l,h;if(a){for(h in s)if(r=s[h],(a===(r.attributes&&r.attributes.id)||a===r.id)&&"marker"===r.tagName){l=r;break}l&&(a=t[n]=i.renderer.addMarker((e.id||d())+"-"+a,p(l,{color:o})),t.attr(n,a.getAttribute("id")))}}))}}return x.attrsMap={dashStyle:"dashstyle",strokeWidth:"stroke-width",stroke:"stroke",fill:"fill",zIndex:"zIndex"},x})),e(t,"Extensions/Annotations/Controllables/ControllableRect.js",[t["Extensions/Annotations/Controllables/Controllable.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Core/Utilities.js"]],(function(t,e,i){({merge:i}=i);class s extends t{constructor(t,e,i){super(t,e,i,"shape"),this.type="rect",this.translate=super.translateShape}render(t){const e=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.rect(0,-9e9,0,0).attr(e).add(t),super.render()}redraw(t){if(this.graphic){const e=this.anchor(this.points[0]).absolutePosition;e?this.graphic[t?"animate":"attr"]({x:e.x,y:e.y,width:this.options.width,height:this.options.height}):this.attr({x:0,y:-9e9}),this.graphic.placed=!!e}super.redraw(t)}}return s.attrsMap=i(e.attrsMap,{width:"width",height:"height"}),s})),e(t,"Extensions/Annotations/Controllables/ControllableCircle.js",[t["Extensions/Annotations/Controllables/Controllable.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Core/Utilities.js"]],(function(t,e,i){({merge:i}=i);class s extends t{constructor(t,e,i){super(t,e,i,"shape"),this.type="circle",this.translate=super.translateShape}redraw(t){if(this.graphic){const e=this.anchor(this.points[0]).absolutePosition;e?this.graphic[t?"animate":"attr"]({x:e.x,y:e.y,r:this.options.r}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!e}super.redraw.call(this,t)}render(t){const e=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.circle(0,-9e9,0).attr(e).add(t),super.render()}setRadius(t){this.options.r=t}}return s.attrsMap=i(e.attrsMap,{r:"r"}),s})),e(t,"Extensions/Annotations/Controllables/ControllableEllipse.js",[t["Extensions/Annotations/Controllables/Controllable.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Core/Utilities.js"]],(function(t,e,i){const{merge:s,defined:n}=i;class o extends t{constructor(t,e,i){super(t,e,i,"shape"),this.type="ellipse"}init(t,e,i){n(e.yAxis)&&e.points.forEach((t=>{t.yAxis=e.yAxis})),n(e.xAxis)&&e.points.forEach((t=>{t.xAxis=e.xAxis})),super.init(t,e,i)}render(t){this.graphic=this.annotation.chart.renderer.createElement("ellipse").attr(this.attrsFromOptions(this.options)).add(t),super.render()}translate(t,e){super.translateShape(t,e,!0)}getDistanceFromLine(t,e,i,s){return Math.abs((e.y-t.y)*i-(e.x-t.x)*s+e.x*t.y-e.y*t.x)/Math.sqrt((e.y-t.y)*(e.y-t.y)+(e.x-t.x)*(e.x-t.x))}getAttrs(t,e){var i=t.x,s=t.y;const n=e.x,o=e.y;e=(i+n)/2,t=(s+o)/2;const a=Math.sqrt((i-n)*(i-n)/4+(s-o)*(s-o)/4);return s=180*Math.atan((o-s)/(n-i))/Math.PI,e<i&&(s+=180),{cx:e,cy:t,rx:a,ry:i=this.getRY(),angle:s}}getRY(){const t=this.getYAxis();return n(t)?Math.abs(t.toPixels(this.options.ry)-t.toPixels(0)):this.options.ry}getYAxis(){return this.chart.yAxis[this.options.yAxis]}getAbsolutePosition(t){return this.anchor(t).absolutePosition}redraw(t){if(this.graphic){const i=this.getAbsolutePosition(this.points[0]);var e=this.getAbsolutePosition(this.points[1]);e=this.getAttrs(i,e),i?this.graphic[t?"animate":"attr"]({cx:e.cx,cy:e.cy,rx:e.rx,ry:e.ry,rotation:e.angle,rotationOriginX:e.cx,rotationOriginY:e.cy}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!i}super.redraw(t)}setYRadius(t){const e=this.annotation.userOptions.shapes;this.options.ry=t,e&&e[0]&&(e[0].ry=t,e[0].ry=t)}}return o.attrsMap=s(e.attrsMap,{ry:"ry"}),o})),e(t,"Extensions/Annotations/Controllables/ControllableLabel.js",[t["Extensions/Annotations/Controllables/Controllable.js"],t["Core/Templating.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Utilities.js"]],(function(t,e,i,s){function n(t,e,i,s,n){const o=n&&n.anchorX;n=n&&n.anchorY;let a,l,h=i/2;return r(o)&&r(n)&&(a=[["M",o,n]],l=e-n,0>l&&(l=-s-l),l<i&&(h=o<t+i/2?l:i-l),n>e+s?a.push(["L",t+h,e+s]):n<e?a.push(["L",t+h,e]):o<t?a.push(["L",t,e+s/2]):o>t+i&&a.push(["L",t+i,e+s/2])),a||[]}const{format:o}=e,{extend:a,isNumber:r,pick:l}=s,h=[];class c extends t{static alignedPosition(t,e){const i=t.align,s=t.verticalAlign;let n,o,a=(e.x||0)+(t.x||0),r=(e.y||0)+(t.y||0);return"right"===i?n=1:"center"===i&&(n=2),n&&(a+=(e.width-(t.width||0))/n),"bottom"===s?o=1:"middle"===s&&(o=2),o&&(r+=(e.height-(t.height||0))/o),{x:Math.round(a),y:Math.round(r)}}static compose(t){s.pushUnique(h,t)&&(t.prototype.symbols.connector=n)}static justifiedOptions(t,e,i,s){const n=i.align,o=i.verticalAlign,a=e.box?0:e.padding||0,r=e.getBBox();let l;return e={align:n,verticalAlign:o,x:i.x,y:i.y,width:e.width,height:e.height},i=(s.x||0)-t.plotLeft,s=(s.y||0)-t.plotTop,l=i+a,0>l&&("right"===n?e.align="left":e.x=(e.x||0)-l),l=i+r.width-a,l>t.plotWidth&&("left"===n?e.align="right":e.x=(e.x||0)+t.plotWidth-l),l=s+a,0>l&&("bottom"===o?e.verticalAlign="top":e.y=(e.y||0)-l),l=s+r.height-a,l>t.plotHeight&&("top"===o?e.verticalAlign="bottom":e.y=(e.y||0)+t.plotHeight-l),e}constructor(t,e,i){super(t,e,i,"label")}translatePoint(t,e){super.translatePoint(t,e,0)}translate(t,e){var i=this.annotation.chart;const s=this.annotation.userOptions;var n=i.annotations.indexOf(this.annotation);n=i.options.annotations[n],i.inverted&&(i=t,t=e,e=i),this.options.x+=t,this.options.y+=e,n[this.collection][this.index].x=this.options.x,n[this.collection][this.index].y=this.options.y,s[this.collection][this.index].x=this.options.x,s[this.collection][this.index].y=this.options.y}render(t){const e=this.options,i=this.attrsFromOptions(e),s=e.style;this.graphic=this.annotation.chart.renderer.label("",0,-9999,e.shape,null,null,e.useHTML,null,"annotation-label").attr(i).add(t),this.annotation.chart.styledMode||("contrast"===s.color&&(s.color=this.annotation.chart.renderer.getContrast(-1<c.shapesWithoutBackground.indexOf(e.shape)?"#FFFFFF":e.backgroundColor)),this.graphic.css(e.style).shadow(e.shadow)),e.className&&this.graphic.addClass(e.className),this.graphic.labelrank=e.labelrank,super.render()}redraw(t){var e=this.options,i=this.text||e.format||e.text;const s=this.graphic,n=this.points[0];s?(s.attr({text:i?o(String(i),n.getLabelConfig(),this.annotation.chart):e.formatter.call(n,this)}),e=this.anchor(n),(i=this.position(e))?(s.alignAttr=i,i.anchorX=e.absolutePosition.x,i.anchorY=e.absolutePosition.y,s[t?"animate":"attr"](i)):s.attr({x:0,y:-9999}),s.placed=!!i,super.redraw(t)):this.redraw(t)}anchor(t){const e=super.anchor.apply(this,arguments),i=this.options.x||0,s=this.options.y||0;return e.absolutePosition.x-=i,e.absolutePosition.y-=s,e.relativePosition.x-=i,e.relativePosition.y-=s,e}position(t){var e=this.graphic;const s=this.annotation.chart;var n=s.tooltip;const o=this.points[0];var r=this.options;const h=t.absolutePosition,p=t.relativePosition;let d;if(t=o.series.visible&&i.prototype.isInsidePlot.call(o),e&&t){const{width:i=0,height:u=0}=e;r.distance&&n?d=n.getPosition.call({chart:s,distance:l(r.distance,16),getPlayingField:n.getPlayingField},i,u,{plotX:p.x,plotY:p.y,negative:o.negative,ttBelow:o.ttBelow,h:p.height||p.width}):r.positioner?d=r.positioner.call(this):(n={x:h.x,y:h.y,width:0,height:0},d=c.alignedPosition(a(r,{width:i,height:u}),n),"justify"===this.options.overflow&&(d=c.alignedPosition(c.justifiedOptions(s,e,r,d),n))),r.crop&&(e=d.x-s.plotLeft,r=d.y-s.plotTop,t=s.isInsidePlot(e,r)&&s.isInsidePlot(e+i,r+u))}return t?d:null}}return c.attrsMap={backgroundColor:"fill",borderColor:"stroke",borderWidth:"stroke-width",zIndex:"zIndex",borderRadius:"r",padding:"padding"},c.shapesWithoutBackground=["connector"],c})),e(t,"Extensions/Annotations/Controllables/ControllableImage.js",[t["Extensions/Annotations/Controllables/Controllable.js"],t["Extensions/Annotations/Controllables/ControllableLabel.js"]],(function(t,e){class i extends t{constructor(t,e,i){super(t,e,i,"shape"),this.type="image",this.translate=super.translateShape}render(t){const e=this.attrsFromOptions(this.options),i=this.options;this.graphic=this.annotation.chart.renderer.image(i.src,0,-9e9,i.width,i.height).attr(e).add(t),this.graphic.width=i.width,this.graphic.height=i.height,super.render()}redraw(t){if(this.graphic){var i=this.anchor(this.points[0]);(i=e.prototype.position.call(this,i))?this.graphic[t?"animate":"attr"]({x:i.x,y:i.y}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!i}super.redraw(t)}}return i.attrsMap={width:"width",height:"height",zIndex:"zIndex"},i})),e(t,"Core/Chart/ChartNavigationComposition.js",[],(function(){var t;return function(t){t.compose=function(t){return t.navigation||(t.navigation=new e(t)),t};class e{constructor(t){this.updates=[],this.chart=t}addUpdate(t){this.chart.navigation.updates.push(t)}update(t,e){this.updates.forEach((i=>{i.call(this.chart,t,e)}))}}t.Additions=e}(t||(t={})),t})),e(t,"Extensions/Annotations/NavigationBindingsUtilities.js",[t["Core/Utilities.js"]],(function(t){const{defined:e,isNumber:i,pick:s}=t,n={backgroundColor:"string",borderColor:"string",borderRadius:"string",color:"string",fill:"string",fontSize:"string",labels:"string",name:"string",stroke:"string",title:"string"};return{annotationsFieldsTypes:n,getAssignedAxis:function(t){return t.filter((t=>{var e=t.axis.getExtremes();const n=e.min;e=e.max;const o=s(t.axis.minPointOffset,0);return i(n)&&i(e)&&t.value>=n-o&&t.value<=e+o&&!t.axis.options.isInternal}))[0]},getFieldType:function(t,i){return i=typeof i,e(t=n[t])&&(i=t),{string:"text",number:"number",boolean:"checkbox"}[i]}}})),e(t,"Extensions/Annotations/NavigationBindingsDefaults.js",[t["Extensions/Annotations/NavigationBindingsUtilities.js"],t["Core/Utilities.js"]],(function(t,e){const{getAssignedAxis:i}=t,{isNumber:s,merge:n}=e;return{lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",ellipse:"Ellipse",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(t){var e=this.chart.pointer.getCoordinates(t);t=i(e.xAxis),e=i(e.yAxis);const s=this.chart.options.navigation;if(t&&e)return this.chart.addAnnotation(n({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{x:t.value,y:e.value,xAxis:t.axis.index,yAxis:e.axis.index},r:5}]},s.annotationsOptions,s.bindings.circleAnnotation.annotationsOptions))},steps:[function(t,e){var i=e.options.shapes;if(i=i&&i[0]&&i[0].point||{},s(i.xAxis)&&s(i.yAxis)){var n=this.chart.inverted;const e=this.chart.xAxis[i.xAxis].toPixels(i.x);i=this.chart.yAxis[i.yAxis].toPixels(i.y),n=Math.max(Math.sqrt(Math.pow(n?i-t.chartX:e-t.chartX,2)+Math.pow(n?e-t.chartY:i-t.chartY,2)),5)}e.update({shapes:[{r:n}]})}]},ellipseAnnotation:{className:"highcharts-ellipse-annotation",start:function(t){var e=this.chart.pointer.getCoordinates(t);t=i(e.xAxis),e=i(e.yAxis);const s=this.chart.options.navigation;if(t&&e)return this.chart.addAnnotation(n({langKey:"ellipse",type:"basicAnnotation",shapes:[{type:"ellipse",xAxis:t.axis.index,yAxis:e.axis.index,points:[{x:t.value,y:e.value},{x:t.value,y:e.value}],ry:1}]},s.annotationsOptions,s.bindings.ellipseAnnotation.annotationOptions))},steps:[function(t,e){const i=(e=e.shapes[0]).getAbsolutePosition(e.points[1]);e.translatePoint(t.chartX-i.x,t.chartY-i.y,1),e.redraw(!1)},function(t,e){var i=(e=e.shapes[0]).getAbsolutePosition(e.points[0]);const s=e.getAbsolutePosition(e.points[1]);t=e.getDistanceFromLine(i,s,t.chartX,t.chartY),i=e.getYAxis(),t=Math.abs(i.toValue(0)-i.toValue(t)),e.setYRadius(t),e.redraw(!1)}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(t){t=this.chart.pointer.getCoordinates(t);var e=i(t.xAxis),s=i(t.yAxis);if(e&&s){t=e.value;var o=s.value;e=e.axis.index,s=s.axis.index;var a=this.chart.options.navigation;return this.chart.addAnnotation(n({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:e,yAxis:s,x:t,y:o},{xAxis:e,yAxis:s,x:t,y:o},{xAxis:e,yAxis:s,x:t,y:o},{xAxis:e,yAxis:s,x:t,y:o},{command:"Z"}]}]},a.annotationsOptions,a.bindings.rectangleAnnotation.annotationsOptions))}},steps:[function(t,e){var s=e.options.shapes;s=s&&s[0]&&s[0].points||[];var n=this.chart.pointer.getCoordinates(t);t=i(n.xAxis),n=i(n.yAxis),t&&n&&(t=t.value,n=n.value,s[1].x=t,s[2].x=t,s[2].y=n,s[3].y=n,e.update({shapes:[{points:s}]}))}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(t){var e=this.chart.pointer.getCoordinates(t);t=i(e.xAxis),e=i(e.yAxis);const s=this.chart.options.navigation;if(t&&e)return this.chart.addAnnotation(n({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:t.axis.index,yAxis:e.axis.index,x:t.value,y:e.value},overflow:"none",crop:!0}]},s.annotationsOptions,s.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}}}})),e(t,"Extensions/Annotations/NavigationBindings.js",[t["Core/Chart/ChartNavigationComposition.js"],t["Core/Defaults.js"],t["Core/Templating.js"],t["Core/Globals.js"],t["Extensions/Annotations/NavigationBindingsDefaults.js"],t["Extensions/Annotations/NavigationBindingsUtilities.js"],t["Core/Utilities.js"]],(function(t,e,i,s,n,o,a){function r(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()}function l(){this.navigationBindings&&this.navigationBindings.destroy()}function h(){const t=this.options;t&&t.navigation&&t.navigation.bindings&&(this.navigationBindings=new S(this,t.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())}function c(){const t=this.navigationBindings;if(this&&t){let e=!1;if(this.series.forEach((t=>{!t.options.isInternal&&t.visible&&(e=!0)})),this.navigationBindings&&this.navigationBindings.container&&this.navigationBindings.container[0]){const i=this.navigationBindings.container[0];O(t.boundClassNames,((t,s)=>{if(s=i.querySelectorAll("."+s))for(let i=0;i<s.length;i++){const n=s[i],o=n.className;"normal"===t.noDataState||e?-1!==o.indexOf("highcharts-disabled-btn")&&n.classList.remove("highcharts-disabled-btn"):-1===o.indexOf("highcharts-disabled-btn")&&(n.className+=" highcharts-disabled-btn")}}))}}}function p(){this.deselectAnnotation()}function d(){this.selectedButtonElement=null}function u(t){function e(t){const e=this,s=e.chart.navigationBindings,n=s.activeAnnotation;i&&i.call(e,t),n!==e?(s.deselectAnnotation(),s.activeAnnotation=e,e.setControlPointsVisibility(!0),A(s,"showPopup",{annotation:e,formType:"annotation-toolbar",options:s.annotationToFields(e),onSubmit:function(t){if("remove"===t.actionType)s.activeAnnotation=!1,s.chart.removeAnnotation(e);else{const i={};s.fieldsToOptions(t.fields,i),s.deselectAnnotation(),t=i.typeOptions,"measure"===e.options.type&&(t.crosshairY.enabled=0!==t.crosshairY.strokeWidth,t.crosshairX.enabled=0!==t.crosshairX.strokeWidth),e.update(i)}}})):A(s,"closePopup"),t.activeAnnotation=!0}const i=t.prototype.defaultOptions.events&&t.prototype.defaultOptions.events.click;let s,n;w(!0,t.prototype.defaultOptions.events,{click:e,touchstart:function(t){s=t.touches[0].clientX,n=t.touches[0].clientY},touchend:function(t){s&&4<=Math.sqrt(Math.pow(s-t.changedTouches[0].clientX,2)+Math.pow(n-t.changedTouches[0].clientY,2))||e.call(this,t)}})}const{setOptions:g}=e,{format:f}=i,{doc:v,win:x}=s,{getFieldType:b}=o,{addEvent:m,attr:y,fireEvent:A,isArray:C,isFunction:E,isNumber:P,isObject:k,merge:w,objectEach:O,pick:T}=a,j=[];class S{static compose(t,e){a.pushUnique(j,t)&&(m(t,"remove",r),u(t),O(t.types,(t=>{u(t)}))),a.pushUnique(j,e)&&(m(e,"destroy",l),m(e,"load",h),m(e,"render",c)),a.pushUnique(j,S)&&(m(S,"closePopup",p),m(S,"deselectButton",d)),a.pushUnique(j,g)&&g(n)}constructor(t,e){this.selectedButton=this.boundClassNames=void 0,this.chart=t,this.options=e,this.eventsToUnbind=[],this.container=this.chart.container.getElementsByClassName(this.options.bindingsClassName||""),this.container.length||(this.container=v.getElementsByClassName(this.options.bindingsClassName||""))}initEvents(){const t=this,e=t.chart,i=t.container,n=t.options;t.boundClassNames={},O(n.bindings||{},(e=>{t.boundClassNames[e.className]=e})),[].forEach.call(i,(e=>{t.eventsToUnbind.push(m(e,"click",(i=>{const s=t.getButtonEvents(e,i);s&&!s.button.classList.contains("highcharts-disabled-btn")&&t.bindingsButtonClick(s.button,s.events,i)})))})),O(n.events||{},((e,i)=>{E(e)&&t.eventsToUnbind.push(m(t,i,e,{passive:!1}))})),t.eventsToUnbind.push(m(e.container,"click",(function(i){!e.cancelClick&&e.isInsidePlot(i.chartX-e.plotLeft,i.chartY-e.plotTop,{visiblePlotOnly:!0})&&t.bindingsChartClick(this,i)}))),t.eventsToUnbind.push(m(e.container,s.isTouchDevice?"touchmove":"mousemove",(function(e){t.bindingsContainerMouseMove(this,e)}),s.isTouchDevice?{passive:!1}:void 0))}initUpdate(){const e=this;t.compose(this.chart).navigation.addUpdate((t=>{e.update(t)}))}bindingsButtonClick(t,e,i){const s=this.chart,n=s.renderer.boxWrapper;let o=!0;this.selectedButtonElement&&(this.selectedButtonElement.classList===t.classList&&(o=!1),A(this,"deselectButton",{button:this.selectedButtonElement}),this.nextEvent&&(this.currentUserDetails&&"annotations"===this.currentUserDetails.coll&&s.removeAnnotation(this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1)),o?(this.selectedButton=e,this.selectedButtonElement=t,A(this,"selectButton",{button:t}),e.init&&e.init.call(this,t,i),(e.start||e.steps)&&s.renderer.boxWrapper.addClass("highcharts-draw-mode")):(s.stockTools&&s.stockTools.toggleButtonActiveClass(t),n.removeClass("highcharts-draw-mode"),this.mouseMoveEvent=this.nextEvent=!1,this.selectedButton=null)}bindingsChartClick(t,e){t=this.chart;const i=this.activeAnnotation,s=this.selectedButton;t=t.renderer.boxWrapper,i&&(i.cancelClick||e.activeAnnotation||!e.target.parentNode||function(t,e){const i=x.Element.prototype,s=i.matches||i.msMatchesSelector||i.webkitMatchesSelector;let n=null;if(i.closest)n=i.closest.call(t,e);else do{if(s.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return n}(e.target,".highcharts-popup")?i.cancelClick&&setTimeout((()=>{i.cancelClick=!1}),0):A(this,"closePopup")),s&&s.start&&(this.nextEvent?(this.nextEvent(e,this.currentUserDetails),this.steps&&(this.stepIndex++,s.steps[this.stepIndex]?this.mouseMoveEvent=this.nextEvent=s.steps[this.stepIndex]:(A(this,"deselectButton",{button:this.selectedButtonElement}),t.removeClass("highcharts-draw-mode"),s.end&&s.end.call(this,e,this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1,this.selectedButton=null))):(this.currentUserDetails=s.start.call(this,e))&&s.steps?(this.stepIndex=0,this.steps=!0,this.mouseMoveEvent=this.nextEvent=s.steps[this.stepIndex]):(A(this,"deselectButton",{button:this.selectedButtonElement}),t.removeClass("highcharts-draw-mode"),this.steps=!1,this.selectedButton=null,s.end&&s.end.call(this,e,this.currentUserDetails)))}bindingsContainerMouseMove(t,e){this.mouseMoveEvent&&this.mouseMoveEvent(e,this.currentUserDetails)}fieldsToOptions(t,e){return O(t,((t,i)=>{const s=parseFloat(t),n=i.split("."),o=n.length-1;if(!P(s)||t.match(/px|em/g)||i.match(/format/g)||(t=s),"undefined"!==t){let i=e;n.forEach(((e,s)=>{const a=T(n[s+1],"");o===s?i[e]=t:(i[e]||(i[e]=a.match(/\d/g)?[]:{}),i=i[e])}))}})),e}deselectAnnotation(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)}annotationToFields(t){function e(i,s,o,r,l){let h;o&&i&&-1===a.indexOf(s)&&(0<=(o.indexOf&&o.indexOf(s))||o[s]||!0===o)&&(C(i)?(r[s]=[],i.forEach(((t,i)=>{k(t)?(r[s][i]={},O(t,((t,o)=>{e(t,o,n[s],r[s][i],s)}))):e(t,0,n[s],r[s],s)}))):k(i)?(h={},C(r)?(r.push(h),h[s]={},h=h[s]):r[s]=h,O(i,((t,i)=>{e(t,i,0===s?o:n[s],h,s)}))):"format"===s?r[s]=[f(i,t.labels[0].points[0]).toString(),"text"]:C(r)?r.push([i,b(l,i)]):r[s]=[i,b(s,i)])}const i=t.options,s=S.annotationsEditable,n=s.nestedOptions,o=T(i.type,i.shapes&&i.shapes[0]&&i.shapes[0].type,i.labels&&i.labels[0]&&i.labels[0].type,"label"),a=S.annotationsNonEditable[i.langKey]||[],r={langKey:i.langKey,type:o};return O(i,((t,a)=>{"typeOptions"===a?(r[a]={},O(i[a],((t,i)=>{e(t,i,n,r[a],i)}))):e(t,a,s[o],r,a)})),r}getClickedClassNames(t,e){let i,s=e.target;for(e=[];s&&s.tagName&&((i=y(s,"class"))&&(e=e.concat(i.split(" ").map((t=>[t,s])))),s=s.parentNode,s!==t););return e}getButtonEvents(t,e){const i=this;let s;return this.getClickedClassNames(t,e).forEach((t=>{i.boundClassNames[t[0]]&&!s&&(s={events:i.boundClassNames[t[0]],button:t[1]})})),s}update(t){this.options=w(!0,this.options,t),this.removeEvents(),this.initEvents()}removeEvents(){this.eventsToUnbind.forEach((t=>t()))}destroy(){this.removeEvents()}}return S.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],ellipse:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]},S.annotationsNonEditable={rectangle:["crosshairX","crosshairY","labelOptions"],ellipse:["labelOptions"],circle:["labelOptions"]},S})),e(t,"Shared/BaseForm.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Utilities.js"]],(function(t,e){const{addEvent:i,createElement:s}=e;return class{constructor(t,e){this.iconsURL=e,this.container=this.createPopupContainer(t),this.closeButton=this.addCloseButton()}createPopupContainer(t,e="highcharts-popup highcharts-no-tooltip"){return s("div",{className:e},void 0,t)}addCloseButton(t="highcharts-popup-close"){const e=this,n=this.iconsURL,o=s("div",{className:t},void 0,this.container);return o.style["background-image"]="url("+(n.match(/png|svg|jpeg|jpg|gif/gi)?n:n+"close.svg")+")",["click","touchstart"].forEach((t=>{i(o,t,e.closeButtonEvents.bind(e))})),o}closeButtonEvents(){this.closePopup()}showPopup(e="highcharts-annotation-toolbar"){const i=this.container,s=this.closeButton;this.type=void 0,i.innerHTML=t.emptyHTML,0<=i.className.indexOf(e)&&(i.classList.remove(e),i.removeAttribute("style")),i.appendChild(s),i.style.display="block",i.style.height=""}closePopup(){this.container.style.display="none"}}})),e(t,"Extensions/Annotations/Popup/PopupAnnotations.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e){function i(t,e,h,p,d,u){if(e){var g,f,v=this.addInput,x=this.lang;l(p,((s,n)=>{g=""!==h?h+"."+n:n,r(s)&&(!a(s)||a(s)&&r(s[0])?((f=x[n]||n).match(/\d/g)||d.push([!0,f,t]),i.call(this,t,e,g,s,d,!1)):d.push([this,g,"annotation",t,s]))})),u&&(c(d,(t=>t[1].match(/format/g)?-1:1)),n&&d.reverse(),d.forEach((t=>{!0===t[0]?o("span",{className:"highcharts-annotation-title"},void 0,t[2]).appendChild(s.createTextNode(t[1])):(t[4]={value:t[4][0],type:t[4][1]},v.apply(t[0],t.splice(1)))})))}}const{doc:s,isFirefox:n}=t,{createElement:o,isArray:a,isObject:r,objectEach:l,pick:h,stableSort:c}=e;return{addForm:function(t,e,n,a){if(t){var r=this.container,l=this.lang,h=o("h2",{className:"highcharts-popup-main-title"},void 0,r);h.appendChild(s.createTextNode(l[e.langKey]||e.langKey||"")),h=o("div",{className:"highcharts-popup-lhs-col highcharts-popup-lhs-full"},void 0,r);var c=o("div",{className:"highcharts-popup-bottom-row"},void 0,r);i.call(this,h,t,"",e,[],!0),this.addButton(c,a?l.addButton||"Add":l.saveButton||"Save",a?"add":"save",r,n)}},addToolbar:function(t,e,i){const n=this.lang,a=this.container,r=this.showForm;-1===a.className.indexOf("highcharts-annotation-toolbar")&&(a.className+=" highcharts-annotation-toolbar"),t&&(a.style.top=t.plotTop+10+"px"),o("span",void 0,void 0,a).appendChild(s.createTextNode(h(n[e.langKey]||e.langKey,e.shapes&&e.shapes[0].type,"")));let l=this.addButton(a,n.removeButton||"Remove","remove",a,i);l.className+=" highcharts-annotation-remove-button",l.style["background-image"]="url("+this.iconsURL+"destroy.svg)",l=this.addButton(a,n.editButton||"Edit","edit",a,(()=>{r.call(this,"annotation-edit",t,e,i)})),l.className+=" highcharts-annotation-edit-button",l.style["background-image"]="url("+this.iconsURL+"edit.svg)"}}})),e(t,"Extensions/Annotations/Popup/PopupIndicators.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Globals.js"],t["Extensions/Annotations/NavigationBindingsUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,i,s,n){function o(t){const e=b("div",{className:"highcharts-popup-lhs-col"},void 0,t);return t=b("div",{className:"highcharts-popup-rhs-col"},void 0,t),b("div",{className:"highcharts-popup-rhs-col-wrapper"},void 0,t),{lhsCol:e,rhsCol:t}}function a(e,i,s,n){const o=this,a=o.lang,l=i.querySelectorAll(".highcharts-popup-lhs-col")[0];i=i.querySelectorAll(".highcharts-popup-rhs-col")[0];const h="edit"===s;if(s=h?e.series:e.options.plotOptions||{},e||!s){var c,v=[];h||y(s)?y(s)&&(v=d.call(this,s)):v=p.call(this,s,n),E(v,((t,e)=>(t=t.indicatorFullName.toLowerCase())<(e=e.indicatorFullName.toLowerCase())?-1:t>e?1:0)),l.children[1]&&l.children[1].remove();var m=b("ul",{className:"highcharts-indicator-list"},void 0,l),A=i.querySelectorAll(".highcharts-popup-rhs-col-wrapper")[0];v.forEach((i=>{const{indicatorFullName:s,indicatorType:n,series:a}=i;(c=b("li",{className:"highcharts-indicator-list"},void 0,m)).appendChild(f.createTextNode(s)),["click","touchstart"].forEach((i=>{x(c,i,(function(){const i=A.parentNode.children[1];{const i=a.params||a.options.params;A.innerHTML=t.emptyHTML,b("h3",{className:"highcharts-indicator-title"},void 0,A).appendChild(f.createTextNode(u(a,n).indicatorFullName)),b("input",{type:"hidden",name:"highcharts-type-"+n,value:n},void 0,A),g.call(o,n,"series",e,A,a,a.linkedParent&&a.linkedParent.options.id),i.volumeSeriesID&&g.call(o,n,"volume",e,A,a,a.linkedParent&&i.volumeSeriesID),r.call(o,e,"params",i,n,A)}i&&(i.style.display="block"),h&&a.options&&b("input",{type:"hidden",name:"highcharts-id-"+n,value:a.options.id},void 0,A).setAttribute("highcharts-data-series-id",a.options.id)}))}))})),0<m.childNodes.length?m.childNodes[0].click():h||(t.setElementHTML(A.parentNode.children[0],a.noFilterMatch||""),A.parentNode.children[1].style.display="none")}}function r(t,e,i,s,n){if(t){var o=this.addInput;C(i,((i,a)=>{var l=e+"."+a;m(i)&&l&&(A(i)&&(o.call(this,l,s,n,{}),r.call(this,t,l,i,s,n)),l in P?(l=h.call(this,s,l,n),c.call(this,t,e,l,s,a,i)):"params.volumeSeriesID"===l||y(i)||o.call(this,l,s,n,{value:i,type:"number"}))}))}}function l(t,e){const i=this;var s=e.querySelectorAll(".highcharts-popup-lhs-col")[0];e=this.lang.clearFilter,s=b("div",{className:"highcharts-input-wrapper"},void 0,s);const n=this.addInput("searchIndicators","input",s,{value:"",type:"text",htmlFor:"search-indicators",labelClassName:"highcharts-input-search-indicators-label"}),o=b("a",{textContent:e},void 0,s);n.classList.add("highcharts-input-search-indicators"),o.classList.add("clear-filter-button"),x(n,"input",(function(e){a.call(i,t,i.container,"add",this.value),o.style.display=this.value.length?"inline-block":"none"})),["click","touchstart"].forEach((e=>{x(o,e,(function(){n.value="",a.call(i,t,i.container,"add",""),o.style.display="none"}))}))}function h(t,e,i){var s=e.split(".");s=s[s.length-1],t="highcharts-"+e+"-type-"+t;const n=this.lang;return b("label",{htmlFor:t},null,i).appendChild(f.createTextNode(n[s]||e)),(i=b("select",{name:t,className:"highcharts-popup-field",id:"highcharts-select-"+e},null,i)).setAttribute("id","highcharts-select-"+e),i}function c(t,e,i,s,n,o,a){"series"===e||"volume"===e?t.series.forEach((t=>{const s=t.options,n=s.name||s.params?t.name:s.id||"";"highcharts-navigator-series"!==s.id&&s.id!==(a&&a.options&&a.options.id)&&(m(o)||"volume"!==e||"column"!==t.type||(o=s.id),b("option",{value:s.id},void 0,i).appendChild(f.createTextNode(n)))})):s&&n&&k[n+"-"+s].forEach((t=>{b("option",{value:t},void 0,i).appendChild(f.createTextNode(t))})),m(o)&&(i.value=o)}function p(t,e){const i=this.chart&&this.chart.options.lang,s=i&&i.navigation&&i.navigation.popup&&i.navigation.popup.indicatorAliases,n=[];let o;return C(t,((t,i)=>{var a=t&&t.options;if(t.params||a&&a.params){const{indicatorFullName:r,indicatorType:l}=u(t,i);e?(i=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i=new RegExp(i,"i"),a=s&&s[l]&&s[l].join(" ")||"",(r.match(i)||a.match(i))&&(o={indicatorFullName:r,indicatorType:l,series:t},n.push(o))):(o={indicatorFullName:r,indicatorType:l,series:t},n.push(o))}})),n}function d(t){const e=[];return t.forEach((t=>{t.is("sma")&&e.push({indicatorFullName:t.name,indicatorType:t.type,series:t})})),e}function u(t,e){const i=t.options;let s=v[e]&&v[e].prototype.nameBase||e.toUpperCase();return i&&i.type&&(e=t.options.type,s=t.name),{indicatorFullName:s,indicatorType:e}}function g(t,e,i,s,n,o){i&&(t=h.call(this,t,e,s),c.call(this,i,e,t,void 0,void 0,void 0,n),m(o)&&(t.value=o))}const{doc:f}=e,{seriesTypes:v}=s,{addEvent:x,createElement:b,defined:m,isArray:y,isObject:A,objectEach:C,stableSort:E}=n;var P;!function(t){t[t["params.algorithm"]=0]="params.algorithm",t[t["params.average"]=1]="params.average"}(P||(P={}));const k={"algorithm-pivotpoints":["standard","fibonacci","camarilla"],"average-disparityindex":["sma","ema","dema","tema","wma"]};return{addForm:function(t,e,i){let s;if(e=this.lang,t){this.tabs.init.call(this,t);var n=this.container.querySelectorAll(".highcharts-tab-item-content");o(n[0]),l.call(this,t,n[0]),a.call(this,t,n[0],"add"),s=n[0].querySelectorAll(".highcharts-popup-rhs-col")[0],this.addButton(s,e.addButton||"add","add",s,i),o(n[1]),a.call(this,t,n[1],"edit"),s=n[1].querySelectorAll(".highcharts-popup-rhs-col")[0],this.addButton(s,e.saveButton||"save","edit",s,i),this.addButton(s,e.removeButton||"remove","remove",s,i)}},getAmount:function(){let t=0;return this.series.forEach((e=>{(e.params||e.options.params)&&t++})),t}}})),e(t,"Extensions/Annotations/Popup/PopupTabs.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e){function i(){return l("div",{className:"highcharts-tab-item-content highcharts-no-mousewheel"},void 0,this.container)}function s(t,e){const i=this.container,s=this.lang;let n="highcharts-tab-item";return 0===e&&(n+=" highcharts-tab-disabled"),(e=l("span",{className:n},void 0,i)).appendChild(a.createTextNode(s[t+"Button"]||t)),e.setAttribute("highcharts-data-tab-type",t),e}function n(t,e){const i=this.container.querySelectorAll(".highcharts-tab-item-content");t.className+=" highcharts-tab-item-active",i[e].className+=" highcharts-tab-item-show"}function o(t){const e=this;this.container.querySelectorAll(".highcharts-tab-item").forEach(((i,s)=>{0===t&&"edit"===i.getAttribute("highcharts-data-tab-type")||["click","touchstart"].forEach((t=>{r(i,t,(function(){{var t=e.container;const i=t.querySelectorAll(".highcharts-tab-item");t=t.querySelectorAll(".highcharts-tab-item-content");for(let e=0;e<i.length;e++)i[e].classList.remove("highcharts-tab-item-active"),t[e].classList.remove("highcharts-tab-item-show")}n.call(e,this,s)}))}))}))}const{doc:a}=t,{addEvent:r,createElement:l}=e;return{init:function(t){if(t){t=this.indicators.getAmount.call(t);var e=s.call(this,"add");s.call(this,"edit",t),i.call(this),i.call(this),o.call(this,t),n.call(this,e,0)}}}})),e(t,"Extensions/Annotations/Popup/Popup.js",[t["Shared/BaseForm.js"],t["Core/Globals.js"],t["Core/Defaults.js"],t["Extensions/Annotations/Popup/PopupAnnotations.js"],t["Extensions/Annotations/Popup/PopupIndicators.js"],t["Extensions/Annotations/Popup/PopupTabs.js"],t["Core/Utilities.js"]],(function(t,e,i,s,n,o,a){const{doc:r}=e,{getOptions:l}=i,{addEvent:h,createElement:c,extend:p,fireEvent:d,pick:u}=a;class g extends t{constructor(t,e,i){super(t,e),this.chart=i,this.lang=l().lang.navigation.popup,h(this.container,"mousedown",(()=>{const t=i&&i.navigationBindings&&i.navigationBindings.activeAnnotation;if(t){t.cancelClick=!0;const e=h(r,"click",(()=>{setTimeout((()=>{t.cancelClick=!1}),0),e()}))}}))}addInput(t,e,i,s){var n=t.split(".");n=n[n.length-1];const o=this.lang;return e="highcharts-"+e+"-"+u(s.htmlFor,n),n.match(/^\d+$/)||c("label",{htmlFor:e,className:s.labelClassName},void 0,i).appendChild(r.createTextNode(o[n]||n)),(i=c("input",{name:e,value:s.value,type:s.type,className:"highcharts-popup-field"},void 0,i)).setAttribute("highcharts-data-name",t),i}closeButtonEvents(){if(this.chart){const t=this.chart.navigationBindings;d(t,"closePopup"),t&&t.selectedButtonElement&&d(t,"deselectButton",{button:t.selectedButtonElement})}else super.closeButtonEvents()}addButton(t,e,i,s,n){const o=c("button",void 0,void 0,t);return o.appendChild(r.createTextNode(e)),n&&["click","touchstart"].forEach((t=>{h(o,t,(()=>(this.closePopup(),n(function(t,e){const i=Array.prototype.slice.call(t.querySelectorAll("input")),s=Array.prototype.slice.call(t.querySelectorAll("select")),n=t.querySelectorAll("#highcharts-select-series > option:checked")[0];t=t.querySelectorAll("#highcharts-select-volume > option:checked")[0];const o={actionType:e,linkedTo:n&&n.getAttribute("value")||"",fields:{}};return i.forEach((t=>{const e=t.getAttribute("highcharts-data-name");t.getAttribute("highcharts-data-series-id")?o.seriesId=t.value:e?o.fields[e]=t.value:o.type=t.value})),s.forEach((t=>{var e=t.id;"highcharts-select-series"!==e&&"highcharts-select-volume"!==e&&(e=e.split("highcharts-select-")[1],o.fields[e]=t.value)})),t&&(o.fields["params.volumeSeriesID"]=t.getAttribute("value")||""),o}(s,i)))))})),o}showForm(t,e,i,s){e&&(this.showPopup(),"indicators"===t&&this.indicators.addForm.call(this,e,i,s),"annotation-toolbar"===t&&this.annotations.addToolbar.call(this,e,i,s),"annotation-edit"===t&&this.annotations.addForm.call(this,e,i,s),"flag"===t&&this.annotations.addForm.call(this,e,i,s,!0),this.type=t,this.container.style.height=this.container.offsetHeight+"px")}}return p(g.prototype,{annotations:s,indicators:n,tabs:o}),g})),e(t,"Extensions/Annotations/Popup/PopupComposition.js",[t["Extensions/Annotations/Popup/Popup.js"],t["Core/Utilities.js"]],(function(t,e){function i(){this.popup&&this.popup.closePopup()}function s(e){this.popup||(this.popup=new t(this.chart.container,this.chart.options.navigation.iconsURL||this.chart.options.stockTools&&this.chart.options.stockTools.gui.iconsURL||"https://code.highcharts.com/11.1.0/gfx/stock-icons/",this.chart)),this.popup.showForm(e.formType,this.chart,e.options,e.onSubmit)}function n(t,e){this.inClass(e.target,"highcharts-popup")||t.apply(this,Array.prototype.slice.call(arguments,1))}const{addEvent:o,wrap:a}=e,r=[];return{compose:function(t,l){e.pushUnique(r,t)&&(o(t,"closePopup",i),o(t,"showPopup",s)),e.pushUnique(r,l)&&a(l.prototype,"onContainerMouseDown",n)}}})),e(t,"Extensions/Annotations/Annotation.js",[t["Core/Animation/AnimationUtilities.js"],t["Extensions/Annotations/AnnotationChart.js"],t["Extensions/Annotations/AnnotationDefaults.js"],t["Extensions/Annotations/Controllables/ControllableRect.js"],t["Extensions/Annotations/Controllables/ControllableCircle.js"],t["Extensions/Annotations/Controllables/ControllableEllipse.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Extensions/Annotations/Controllables/ControllableImage.js"],t["Extensions/Annotations/Controllables/ControllableLabel.js"],t["Extensions/Annotations/ControlPoint.js"],t["Extensions/Annotations/ControlTarget.js"],t["Extensions/Annotations/EventEmitter.js"],t["Extensions/Annotations/MockPoint.js"],t["Extensions/Annotations/NavigationBindings.js"],t["Extensions/Annotations/Popup/PopupComposition.js"],t["Core/Utilities.js"]],(function(t,e,i,s,n,o,a,r,l,h,c,p,d,u,g,f){function v(t,e){const i={};return["labels","shapes"].forEach((s=>{const n=t[s];n&&(i[s]=e[s]?E(e[s]).map((function(t,e){return A(n[e],t)})):t[s])})),i}const{getDeferredAnimation:x}=t,{destroyObjectProperties:b,erase:m,fireEvent:y,merge:A,pick:C,splat:E}=f;class P extends p{static compose(t,i,s){e.compose(P,t,i),l.compose(s),a.compose(t,s),u.compose(P,t),g.compose(u,i)}constructor(t,e){super(),this.coll="annotations",this.shapesGroup=this.labelsGroup=this.labelCollector=this.group=this.graphic=this.animationConfig=void 0,this.chart=t,this.points=[],this.controlPoints=[],this.coll="annotations",this.index=-1,this.labels=[],this.shapes=[],this.options=A(this.defaultOptions,e),this.userOptions=e,e=v(this.options,e),this.options.labels=e.labels,this.options.shapes=e.shapes,this.init(t,this.options)}addClipPaths(){this.setClipAxes(),this.clipXAxis&&this.clipYAxis&&this.options.crop&&(this.clipRect=this.chart.renderer.clipRect(this.getClipBox()))}addLabels(){const t=this.options.labels||[];t.forEach(((e,i)=>{e=this.initLabel(e,i),A(!0,t[i],e.options)}))}addShapes(){const t=this.options.shapes||[];t.forEach(((e,i)=>{e=this.initShape(e,i),A(!0,t[i],e.options)}))}destroy(){const t=this.chart,e=function(t){t.destroy()};this.labels.forEach(e),this.shapes.forEach(e),this.clipYAxis=this.clipXAxis=null,m(t.labelCollectors,this.labelCollector),super.destroy(),this.destroyControlTarget(),b(this,t)}destroyItem(t){m(this[t.itemType+"s"],t),t.destroy()}getClipBox(){if(this.clipXAxis&&this.clipYAxis)return{x:this.clipXAxis.left,y:this.clipYAxis.top,width:this.clipXAxis.width,height:this.clipYAxis.height}}initProperties(t,e){this.setOptions(e);const i=v(this.options,e);this.options.labels=i.labels,this.options.shapes=i.shapes,this.chart=t,this.points=[],this.controlPoints=[],this.coll="annotations",this.userOptions=e,this.labels=[],this.shapes=[]}init(t,e,i=this.index){t=this.chart,e=this.options.animation,this.index=i,this.linkPoints(),this.addControlPoints(),this.addShapes(),this.addLabels(),this.setLabelCollector(),this.animationConfig=x(t,e)}initLabel(t,e){return t=A(this.options.labelOptions,{controlPointOptions:this.options.controlPointOptions},t),(e=new l(this,t,e)).itemType="label",this.labels.push(e),e}initShape(t,e){return t=A(this.options.shapeOptions,{controlPointOptions:this.options.controlPointOptions},t),(e=new P.shapesMap[t.type](this,t,e)).itemType="shape",this.shapes.push(e),e}redraw(t){this.linkPoints(),this.graphic||this.render(),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.redrawItems(this.shapes,t),this.redrawItems(this.labels,t),this.redrawControlPoints(t)}redrawItem(t,e){t.linkPoints(),t.shouldBeDrawn()?(t.graphic||this.renderItem(t),t.redraw(C(e,!0)&&t.graphic.placed),t.points.length&&function(t){const e=t.graphic;t=t.points.some((t=>!1!==t.series.visible&&!1!==t.visible)),e&&(t?"hidden"===e.visibility&&e.show():e.hide())}(t)):this.destroyItem(t)}redrawItems(t,e){let i=t.length;for(;i--;)this.redrawItem(t[i],e)}remove(){return this.chart.removeAnnotation(this)}render(){const t=this.chart.renderer;this.graphic=t.g("annotation").attr({opacity:0,zIndex:this.options.zIndex,visibility:this.options.visible?"inherit":"hidden"}).add(),this.shapesGroup=t.g("annotation-shapes").add(this.graphic),this.options.crop&&this.shapesGroup.clip(this.chart.plotBoxClip),this.labelsGroup=t.g("annotation-labels").attr({translateX:0,translateY:0}).add(this.graphic),this.addClipPaths(),this.clipRect&&this.graphic.clip(this.clipRect),this.renderItems(this.shapes),this.renderItems(this.labels),this.addEvents(),this.renderControlPoints()}renderItem(t){t.render("label"===t.itemType?this.labelsGroup:this.shapesGroup)}renderItems(t){let e=t.length;for(;e--;)this.renderItem(t[e])}setClipAxes(){const t=this.chart.xAxis,e=this.chart.yAxis,i=(this.options.labels||[]).concat(this.options.shapes||[]).reduce(((i,s)=>(s=s&&(s.point||s.points&&s.points[0]),[t[s&&s.xAxis]||i[0],e[s&&s.yAxis]||i[1]])),[]);this.clipXAxis=i[0],this.clipYAxis=i[1]}setControlPointsVisibility(t){const e=function(e){e.setControlPointsVisibility(t)};this.controlPoints.forEach((e=>{e.setVisibility(t)})),this.shapes.forEach(e),this.labels.forEach(e)}setLabelCollector(){const t=this;t.labelCollector=function(){return t.labels.reduce((function(t,e){return e.options.allowOverlap||t.push(e.graphic),t}),[])},t.chart.labelCollectors.push(t.labelCollector)}setOptions(t){this.options=A(this.defaultOptions,t)}setVisibility(t){const e=this.options,i=this.chart.navigationBindings,s=C(t,!e.visible);this.graphic.attr("visibility",s?"inherit":"hidden"),s||(t=function(t){t.setControlPointsVisibility(s)},this.shapes.forEach(t),this.labels.forEach(t),i.activeAnnotation===this&&i.popup&&"annotation-toolbar"===i.popup.type&&y(i,"closePopup")),e.visible=s}update(t,e){const i=this.chart,s=v(this.userOptions,t),n=i.annotations.indexOf(this);(t=A(!0,this.userOptions,t)).labels=s.labels,t.shapes=s.shapes,this.destroy(),this.initProperties(i,t),this.init(i,t),i.options.annotations[n]=t,this.isUpdating=!0,C(e,!0)&&i.redraw(),y(this,"afterUpdate"),this.isUpdating=!1}}return P.ControlPoint=h,P.MockPoint=d,P.shapesMap={rect:s,circle:n,ellipse:o,path:a,image:r},P.types={},P.prototype.defaultOptions=i,P.prototype.nonDOMEvents=["add","afterUpdate","drag","remove"],c.compose(P),P})),e(t,"masters/modules/annotations.src.js",[t["Core/Globals.js"],t["Extensions/Annotations/Annotation.js"]],(function(t,e){t.Annotation=e,e.compose(t.Chart,t.Pointer,t.SVGRenderer)}))},t.exports?(o.default=o,t.exports=o):(s=[i(78840)],void 0===(n=function(t){return o(t),o.Highcharts=t,o}.apply(e,s))||(t.exports=n))},64729:function(t,e,i){"use strict";i.d(e,{R:function(){return G}});var s,n,o=i(67294),a=i(94192),r=i(19946),l=i(16723),h=i(71646),c=i(23784),p=i(12351),d=i(32984),u=i(9362),g=i(61363),f=i(11497),v=i(64103),x=i(84575),b=i(16567),m=i(14157),y=i(39650),A=i(46045),C=i(18689),E=i(15466),P=i(73781),k=i(31147),w=i(3855),O=i(40476),T=((n=T||{})[n.Open=0]="Open",n[n.Closed=1]="Closed",n),j=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(j||{}),S=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(S||{}),M=((s=M||{})[s.OpenListbox=0]="OpenListbox",s[s.CloseListbox=1]="CloseListbox",s[s.GoToOption=2]="GoToOption",s[s.Search=3]="Search",s[s.ClearSearch=4]="ClearSearch",s[s.RegisterOption=5]="RegisterOption",s[s.UnregisterOption=6]="UnregisterOption",s[s.RegisterLabel=7]="RegisterLabel",s);function R(t,e=(t=>t)){let i=null!==t.activeOptionIndex?t.options[t.activeOptionIndex]:null,s=(0,x.z2)(e(t.options.slice()),(t=>t.dataRef.current.domRef.current)),n=i?s.indexOf(i):null;return-1===n&&(n=null),{options:s,activeOptionIndex:n}}let B={1:t=>t.dataRef.current.disabled||1===t.listboxState?t:{...t,activeOptionIndex:null,listboxState:1},0(t){if(t.dataRef.current.disabled||0===t.listboxState)return t;let e=t.activeOptionIndex,{isSelected:i}=t.dataRef.current,s=t.options.findIndex((t=>i(t.dataRef.current.value)));return-1!==s&&(e=s),{...t,listboxState:0,activeOptionIndex:e}},2(t,e){var i;if(t.dataRef.current.disabled||1===t.listboxState)return t;let s=R(t),n=(0,f.d)(e,{resolveItems:()=>s.options,resolveActiveIndex:()=>s.activeOptionIndex,resolveId:t=>t.id,resolveDisabled:t=>t.dataRef.current.disabled});return{...t,...s,searchQuery:"",activeOptionIndex:n,activationTrigger:null!=(i=e.trigger)?i:1}},3:(t,e)=>{if(t.dataRef.current.disabled||1===t.listboxState)return t;let i=""!==t.searchQuery?0:1,s=t.searchQuery+e.value.toLowerCase(),n=(null!==t.activeOptionIndex?t.options.slice(t.activeOptionIndex+i).concat(t.options.slice(0,t.activeOptionIndex+i)):t.options).find((t=>{var e;return!t.dataRef.current.disabled&&(null==(e=t.dataRef.current.textValue)?void 0:e.startsWith(s))})),o=n?t.options.indexOf(n):-1;return-1===o||o===t.activeOptionIndex?{...t,searchQuery:s}:{...t,searchQuery:s,activeOptionIndex:o,activationTrigger:1}},4:t=>t.dataRef.current.disabled||1===t.listboxState||""===t.searchQuery?t:{...t,searchQuery:""},5:(t,e)=>{let i={id:e.id,dataRef:e.dataRef},s=R(t,(t=>[...t,i]));return null===t.activeOptionIndex&&t.dataRef.current.isSelected(e.dataRef.current.value)&&(s.activeOptionIndex=s.options.indexOf(i)),{...t,...s}},6:(t,e)=>{let i=R(t,(t=>{let i=t.findIndex((t=>t.id===e.id));return-1!==i&&t.splice(i,1),t}));return{...t,...i,activationTrigger:1}},7:(t,e)=>({...t,labelId:e.id})},L=(0,o.createContext)(null);function N(t){let e=(0,o.useContext)(L);if(null===e){let e=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,N),e}return e}L.displayName="ListboxActionsContext";let I=(0,o.createContext)(null);function D(t){let e=(0,o.useContext)(I);if(null===e){let e=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,D),e}return e}function U(t,e){return(0,d.E)(e.type,B,t,e)}I.displayName="ListboxDataContext";let Y=o.Fragment,F=(0,p.yV)((function(t,e){let{value:i,defaultValue:s,name:n,onChange:r,by:h=((t,e)=>t===e),disabled:u=!1,horizontal:g=!1,multiple:v=!1,...m}=t;const E=g?"horizontal":"vertical";let w=(0,c.T)(e),[O=(v?[]:void 0),T]=(0,k.q)(i,r,s),[j,S]=(0,o.useReducer)(U,{dataRef:(0,o.createRef)(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),M=(0,o.useRef)({static:!1,hold:!1}),R=(0,o.useRef)(null),B=(0,o.useRef)(null),N=(0,o.useRef)(null),D=(0,P.z)("string"==typeof h?(t,e)=>{let i=h;return(null==t?void 0:t[i])===(null==e?void 0:e[i])}:h),F=(0,o.useCallback)((t=>(0,d.E)(X.mode,{1:()=>O.some((e=>D(e,t))),0:()=>D(O,t)})),[O]),X=(0,o.useMemo)((()=>({...j,value:O,disabled:u,mode:v?1:0,orientation:E,compare:D,isSelected:F,optionsPropsRef:M,labelRef:R,buttonRef:B,optionsRef:N})),[O,u,v,j]);(0,l.e)((()=>{j.dataRef.current=X}),[X]),(0,y.O)([X.buttonRef,X.optionsRef],((t,e)=>{var i;S({type:1}),(0,x.sP)(e,x.tJ.Loose)||(t.preventDefault(),null==(i=X.buttonRef.current)||i.focus())}),0===X.listboxState);let z=(0,o.useMemo)((()=>({open:0===X.listboxState,disabled:u,value:O})),[X,u,O]),q=(0,P.z)((t=>{let e=X.options.find((e=>e.id===t));!e||_(e.dataRef.current.value)})),W=(0,P.z)((()=>{if(null!==X.activeOptionIndex){let{dataRef:t,id:e}=X.options[X.activeOptionIndex];_(t.current.value),S({type:2,focus:f.T.Specific,id:e})}})),V=(0,P.z)((()=>S({type:0}))),G=(0,P.z)((()=>S({type:1}))),H=(0,P.z)(((t,e,i)=>t===f.T.Specific?S({type:2,focus:f.T.Specific,id:e,trigger:i}):S({type:2,focus:t,trigger:i}))),K=(0,P.z)(((t,e)=>(S({type:5,id:t,dataRef:e}),()=>S({type:6,id:t})))),$=(0,P.z)((t=>(S({type:7,id:t}),()=>S({type:7,id:null})))),_=(0,P.z)((t=>(0,d.E)(X.mode,{0:()=>null==T?void 0:T(t),1(){let e=X.value.slice(),i=e.findIndex((e=>D(e,t)));return-1===i?e.push(t):e.splice(i,1),null==T?void 0:T(e)}}))),Q=(0,P.z)((t=>S({type:3,value:t}))),Z=(0,P.z)((()=>S({type:4}))),J=(0,o.useMemo)((()=>({onChange:_,registerOption:K,registerLabel:$,goToOption:H,closeListbox:G,openListbox:V,selectActiveOption:W,selectOption:q,search:Q,clearSearch:Z})),[]),tt={ref:w},et=(0,o.useRef)(null),it=(0,a.G)();return(0,o.useEffect)((()=>{!et.current||void 0!==s&&it.addEventListener(et.current,"reset",(()=>{_(s)}))}),[et,_]),o.createElement(L.Provider,{value:J},o.createElement(I.Provider,{value:X},o.createElement(b.up,{value:(0,d.E)(X.listboxState,{0:b.ZM.Open,1:b.ZM.Closed})},null!=n&&null!=O&&(0,C.t)({[n]:O}).map((([t,e],i)=>o.createElement(A._,{features:A.A.Hidden,ref:0===i?t=>{var e;et.current=null!=(e=null==t?void 0:t.closest("form"))?e:null}:void 0,...(0,p.oA)({key:t,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:t,value:e})}))),(0,p.sY)({ourProps:tt,theirProps:m,slot:z,defaultTag:Y,name:"Listbox"}))))})),X=(0,p.yV)((function(t,e){var i;let s=(0,r.M)(),{id:n=`headlessui-listbox-button-${s}`,...l}=t,d=D("Listbox.Button"),u=N("Listbox.Button"),x=(0,c.T)(d.buttonRef,e),b=(0,a.G)(),y=(0,P.z)((t=>{switch(t.key){case g.R.Space:case g.R.Enter:case g.R.ArrowDown:t.preventDefault(),u.openListbox(),b.nextFrame((()=>{d.value||u.goToOption(f.T.First)}));break;case g.R.ArrowUp:t.preventDefault(),u.openListbox(),b.nextFrame((()=>{d.value||u.goToOption(f.T.Last)}))}})),A=(0,P.z)((t=>{if(t.key===g.R.Space)t.preventDefault()})),C=(0,P.z)((t=>{if((0,v.P)(t.currentTarget))return t.preventDefault();0===d.listboxState?(u.closeListbox(),b.nextFrame((()=>{var t;return null==(t=d.buttonRef.current)?void 0:t.focus({preventScroll:!0})}))):(t.preventDefault(),u.openListbox())})),E=(0,h.v)((()=>{if(d.labelId)return[d.labelId,n].join(" ")}),[d.labelId,n]),k=(0,o.useMemo)((()=>({open:0===d.listboxState,disabled:d.disabled,value:d.value})),[d]),w={ref:x,id:n,type:(0,m.f)(t,d.buttonRef),"aria-haspopup":!0,"aria-controls":null==(i=d.optionsRef.current)?void 0:i.id,"aria-expanded":d.disabled?void 0:0===d.listboxState,"aria-labelledby":E,disabled:d.disabled,onKeyDown:y,onKeyUp:A,onClick:C};return(0,p.sY)({ourProps:w,theirProps:l,slot:k,defaultTag:"button",name:"Listbox.Button"})})),z=(0,p.yV)((function(t,e){let i=(0,r.M)(),{id:s=`headlessui-listbox-label-${i}`,...n}=t,a=D("Listbox.Label"),h=N("Listbox.Label"),d=(0,c.T)(a.labelRef,e);(0,l.e)((()=>h.registerLabel(s)),[s]);let u=(0,P.z)((()=>{var t;return null==(t=a.buttonRef.current)?void 0:t.focus({preventScroll:!0})})),g=(0,o.useMemo)((()=>({open:0===a.listboxState,disabled:a.disabled})),[a]);return(0,p.sY)({ourProps:{ref:d,id:s,onClick:u},theirProps:n,slot:g,defaultTag:"label",name:"Listbox.Label"})})),q=p.AN.RenderStrategy|p.AN.Static,W=(0,p.yV)((function(t,e){var i;let s=(0,r.M)(),{id:n=`headlessui-listbox-options-${s}`,...l}=t,v=D("Listbox.Options"),x=N("Listbox.Options"),m=(0,c.T)(v.optionsRef,e),y=(0,a.G)(),A=(0,a.G)(),C=(0,b.oJ)(),k=null!==C?C===b.ZM.Open:0===v.listboxState;(0,o.useEffect)((()=>{var t;let e=v.optionsRef.current;!e||0===v.listboxState&&e!==(null==(t=(0,E.r)(e))?void 0:t.activeElement)&&e.focus({preventScroll:!0})}),[v.listboxState,v.optionsRef]);let w=(0,P.z)((t=>{switch(A.dispose(),t.key){case g.R.Space:if(""!==v.searchQuery)return t.preventDefault(),t.stopPropagation(),x.search(t.key);case g.R.Enter:if(t.preventDefault(),t.stopPropagation(),null!==v.activeOptionIndex){let{dataRef:t}=v.options[v.activeOptionIndex];x.onChange(t.current.value)}0===v.mode&&(x.closeListbox(),(0,u.k)().nextFrame((()=>{var t;return null==(t=v.buttonRef.current)?void 0:t.focus({preventScroll:!0})})));break;case(0,d.E)(v.orientation,{vertical:g.R.ArrowDown,horizontal:g.R.ArrowRight}):return t.preventDefault(),t.stopPropagation(),x.goToOption(f.T.Next);case(0,d.E)(v.orientation,{vertical:g.R.ArrowUp,horizontal:g.R.ArrowLeft}):return t.preventDefault(),t.stopPropagation(),x.goToOption(f.T.Previous);case g.R.Home:case g.R.PageUp:return t.preventDefault(),t.stopPropagation(),x.goToOption(f.T.First);case g.R.End:case g.R.PageDown:return t.preventDefault(),t.stopPropagation(),x.goToOption(f.T.Last);case g.R.Escape:return t.preventDefault(),t.stopPropagation(),x.closeListbox(),y.nextFrame((()=>{var t;return null==(t=v.buttonRef.current)?void 0:t.focus({preventScroll:!0})}));case g.R.Tab:t.preventDefault(),t.stopPropagation();break;default:1===t.key.length&&(x.search(t.key),A.setTimeout((()=>x.clearSearch()),350))}})),O=(0,h.v)((()=>{var t,e,i;return null!=(i=null==(t=v.labelRef.current)?void 0:t.id)?i:null==(e=v.buttonRef.current)?void 0:e.id}),[v.labelRef.current,v.buttonRef.current]),T=(0,o.useMemo)((()=>({open:0===v.listboxState})),[v]),j={"aria-activedescendant":null===v.activeOptionIndex||null==(i=v.options[v.activeOptionIndex])?void 0:i.id,"aria-multiselectable":1===v.mode||void 0,"aria-labelledby":O,"aria-orientation":v.orientation,id:n,onKeyDown:w,role:"listbox",tabIndex:0,ref:m};return(0,p.sY)({ourProps:j,theirProps:l,slot:T,defaultTag:"ul",features:q,visible:k,name:"Listbox.Options"})})),V=(0,p.yV)((function(t,e){let i=(0,r.M)(),{id:s=`headlessui-listbox-option-${i}`,disabled:n=!1,value:a,...h}=t,d=D("Listbox.Option"),g=N("Listbox.Option"),v=null!==d.activeOptionIndex&&d.options[d.activeOptionIndex].id===s,x=d.isSelected(a),b=(0,o.useRef)(null),m=(0,w.E)({disabled:n,value:a,domRef:b,get textValue(){var t,e;return null==(e=null==(t=b.current)?void 0:t.textContent)?void 0:e.toLowerCase()}}),y=(0,c.T)(e,b);(0,l.e)((()=>{if(0!==d.listboxState||!v||0===d.activationTrigger)return;let t=(0,u.k)();return t.requestAnimationFrame((()=>{var t,e;null==(e=null==(t=b.current)?void 0:t.scrollIntoView)||e.call(t,{block:"nearest"})})),t.dispose}),[b,v,d.listboxState,d.activationTrigger,d.activeOptionIndex]),(0,l.e)((()=>g.registerOption(s,m)),[m,s]);let A=(0,P.z)((t=>{if(n)return t.preventDefault();g.onChange(a),0===d.mode&&(g.closeListbox(),(0,u.k)().nextFrame((()=>{var t;return null==(t=d.buttonRef.current)?void 0:t.focus({preventScroll:!0})})))})),C=(0,P.z)((()=>{if(n)return g.goToOption(f.T.Nothing);g.goToOption(f.T.Specific,s)})),E=(0,O.g)(),k=(0,P.z)((t=>E.update(t))),T=(0,P.z)((t=>{!E.wasMoved(t)||n||v||g.goToOption(f.T.Specific,s,0)})),j=(0,P.z)((t=>{!E.wasMoved(t)||n||!v||g.goToOption(f.T.Nothing)})),S=(0,o.useMemo)((()=>({active:v,selected:x,disabled:n})),[v,x,n]);return(0,p.sY)({ourProps:{id:s,ref:y,role:"option",tabIndex:!0===n?void 0:-1,"aria-disabled":!0===n||void 0,"aria-selected":x,disabled:void 0,onClick:A,onFocus:C,onPointerEnter:k,onMouseEnter:k,onPointerMove:T,onMouseMove:T,onPointerLeave:j,onMouseLeave:j},theirProps:h,slot:S,defaultTag:"li",name:"Listbox.Option"})})),G=Object.assign(F,{Button:X,Label:z,Options:W,Option:V})},71646:function(t,e,i){"use strict";i.d(e,{v:function(){return a}});var s=i(67294),n=i(16723),o=i(3855);function a(t,e){let[i,a]=(0,s.useState)(t),r=(0,o.E)(t);return(0,n.e)((()=>a(r.current)),[r,a,...e]),i}}}]);